<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>products/cafeMenuView.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Events</h3><ul><li><a href="global.html#event:DOMContentLoaded">DOMContentLoaded</a></li><li></li><li><a href="global.html#event:DOMContentLoaded-SettercurrentPageIndexbasertp%25C3%25A5URL-hashen.">DOMContentLoaded - Setter currentPageIndex basert på URL-hashen.</a></li><li><a href="global.html#event:DOMContentLoaded-initialiserer%2560loginView%2560">DOMContentLoaded - initialiserer `loginView`</a></li><li><a href="global.html#event:click-Hendelsensomtriggesn%25C3%25A5r%2560logoutBtn%2560klikkes.">click - Hendelsen som trigges når `logoutBtn` klikkes.</a></li><li><a href="global.html#event:popstate-OppdaterercurrentPageIndexbasertp%25C3%25A5historikktilstanden">popstate - Oppdaterer currentPageIndex basert på historikktilstanden</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addCafeProductToCart">addCafeProductToCart</a></li><li><a href="global.html#addCakeProductToCart">addCakeProductToCart</a></li><li><a href="global.html#addCustomQuantity">addCustomQuantity</a></li><li><a href="global.html#calculateCustomCakePrice">calculateCustomCakePrice</a></li><li><a href="global.html#calculateStandardCakePrice">calculateStandardCakePrice</a></li><li><a href="global.html#clearLocalStorage">clearLocalStorage</a></li><li><a href="global.html#createCafeMenuHtml">createCafeMenuHtml</a></li><li><a href="global.html#createCafeProductCardHtml">createCafeProductCardHtml</a></li><li><a href="global.html#createCafeProductInfoOverlayElement">createCafeProductInfoOverlayElement</a></li><li><a href="global.html#createCakeMenuHtml">createCakeMenuHtml</a></li><li><a href="global.html#createCakeProductCardHtml">createCakeProductCardHtml</a></li><li><a href="global.html#createCakeProductInfoOverlayElement">createCakeProductInfoOverlayElement</a></li><li><a href="global.html#createCakeProductsHtml">createCakeProductsHtml</a></li><li><a href="global.html#createCurrentPageHtml">createCurrentPageHtml</a></li><li><a href="global.html#createTabRowHtml">createTabRowHtml</a></li><li><a href="global.html#formatDateTime">formatDateTime</a></li><li><a href="global.html#getEmployeeID">getEmployeeID</a></li><li><a href="global.html#getPassword">getPassword</a></li><li><a href="global.html#getProducts">getProducts</a></li><li><a href="global.html#getProductsForCurrentTab">getProductsForCurrentTab</a></li><li><a href="global.html#getProductsFromStore">getProductsFromStore</a></li><li><a href="global.html#hamburger">hamburger</a></li><li><a href="global.html#handleCategoryChange">handleCategoryChange</a></li><li><a href="global.html#hideError">hideError</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initPasswordToggle">initPasswordToggle</a></li><li><a href="global.html#initiateModelLocalStorage">initiateModelLocalStorage</a></li><li><a href="global.html#loginController">loginController</a></li><li><a href="global.html#loginModel">loginModel</a></li><li><a href="global.html#loginView">loginView</a></li><li><a href="global.html#model">model</a></li><li><a href="global.html#ordersController">ordersController</a></li><li><a href="global.html#ordersView">ordersView</a></li><li><a href="global.html#pickedUpOrdersController">pickedUpOrdersController</a></li><li><a href="global.html#pickedUpOrdersView">pickedUpOrdersView</a></li><li><a href="global.html#renderForm">renderForm</a></li><li><a href="global.html#renderNoResultsMessage">renderNoResultsMessage</a></li><li><a href="global.html#renderOrderedProductsHtml">renderOrderedProductsHtml</a></li><li><a href="global.html#renderOrders">renderOrders</a></li><li><a href="global.html#replaceModel">replaceModel</a></li><li><a href="global.html#resetSearch">resetSearch</a></li><li><a href="global.html#saveModel">saveModel</a></li><li><a href="global.html#searchOrders">searchOrders</a></li><li><a href="global.html#setLoggedIn">setLoggedIn</a></li><li><a href="global.html#setupSearchListener">setupSearchListener</a></li><li><a href="global.html#showError">showError</a></li><li><a href="global.html#sortByPickupDateAndTime">sortByPickupDateAndTime</a></li><li><a href="global.html#subtractOrderedQuantityFromUnitsInStock">subtractOrderedQuantityFromUnitsInStock</a></li><li><a href="global.html#switchMenu">switchMenu</a></li><li><a href="global.html#switchTab">switchTab</a></li><li><a href="global.html#togglePasswordVisibility">togglePasswordVisibility</a></li><li><a href="global.html#updateCakeSize">updateCakeSize</a></li><li><a href="global.html#updateComment">updateComment</a></li><li><a href="global.html#updateFlavor">updateFlavor</a></li><li><a href="global.html#updateOrderStatus">updateOrderStatus</a></li><li><a href="global.html#updatePriceDisplay">updatePriceDisplay</a></li><li><a href="global.html#updateStatus">updateStatus</a></li><li><a href="global.html#updateTheme">updateTheme</a></li><li><a href="global.html#updateView">updateView</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">products/cafeMenuView.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Genererer og returnerer HTML-elementet for kafémenyen.
 *
 * Denne funksjonen oppretter et `div`-element med `id` satt til "cafe-menu" og fyller det
 * med HTML-innhold for faner og produkter ved å kalle `createTabRowHtml()` og `createCafeProductsHtml()`.
 * Hvis et overleggselement (overlay) for produktinformasjon er tilgjengelig, legges dette til
 * som et barn av `cafeMenu`-elementet.
 *
 * @function
 * @name createCafeMenuHtml
 * @returns {HTMLElement} Div-elementet som representerer kafémenyen, inkludert produkter og eventuelt overlay.
 * @example
 * // Hent kafémenyen og legg til i DOM-en:
 * document.getElementById('app').appendChild(createCafeMenuHtml());
 */
function createCafeMenuHtml() {
  const cafeMenu = document.createElement('div');
  cafeMenu.id = 'cafe-menu';
  cafeMenu.innerHTML = createTabRowHtml() + createCafeProductsHtml();
  const overlay = createCafeProductInfoOverlayElement();
  if (overlay) {
    cafeMenu.appendChild(overlay);
  }
  return cafeMenu;
}

/**
 * Genererer HTML for faneraden i kafémenyen.
 *
 * Funksjonen lager HTML som inkluderer en velkomsttittel, en introduksjonstekst, og
 * en rad med faneknapper for de ulike kaféproduktene: baguetter, snitter, og kaffe.
 * Fanene oppdateres dynamisk for å indikere hvilken som er valgt, basert på `model.inputs.cafeMenu.tab`.
 *
 * @function
 * @name createTabRowHtml
 * @returns {string} HTML-strukturen for kafémenyens fanerad.
 * @example
 * // Legg til faneraden i kafémenyen:
 * document.getElementById('cafe-menu').innerHTML = createTabRowHtml();
 */
function createTabRowHtml() {
  const selectedTab = model.inputs.cafeMenu.tab;
  return /* HTML*/ `
    &lt;h1 class="page__title">Velkommen til vår koselige kafé!&lt;/h1>
    &lt;p class="menu-introduction">Klar for noe digg? Dykk inn i vårt utvalg av deilige baguetter, knallgode snitter og toppkaffe. Perfekt for en velfortjent pause eller en hyggelig prat. Finn din nye smakfavoritt eller en herlig smakbit å kose deg med!&lt;/p>
    &lt;div id="cafe-menu-tab-row">
      &lt;button onclick="switchTab('baguette')" class='${selectedTab === 'baguette' ? 'selected-tab' : 'tab-button'}'>Baguetter&lt;/button>
      &lt;button onclick="switchTab('canapes')" id='middle-tab-button' class='${selectedTab === 'canapes' ? 'selected-tab' : 'tab-button'}'>Snitter&lt;/button>
      &lt;button onclick="switchTab('coffee')" class='${selectedTab === 'coffee' ? 'selected-tab' : 'tab-button'}'>Kaffe&lt;/button>
    &lt;/div>
  `;
}

function getProductsForCurrentTab() {
  const tab = model.inputs.cafeMenu.tab;
  return getProductsForCategory(tab);
}

/**
 * Henter produktene for den gjeldende fanen i kafémenyen.
 *
 * Funksjonen finner den aktive fanen fra `model.inputs.cafeMenu.tab`
 * og henter produktene som tilhører den kategorien ved å kalle `getProductsForCategory`.
 *
 * @function
 * @name getProductsForCurrentTab
 * @returns {Array&lt;Object>} En liste med produkter som tilhører den gjeldende kategorien.
 * @example
 * // Hent produktene for den valgte fanen og vis dem:
 * const products = getProductsForCurrentTab();
 * displayProducts(products);
 */
function createCafeProductsHtml() {
  const products = getProductsForCurrentPage();
  let cards = '';
  for (const product of products) {
    cards += createCafeProductCardHtml(product);
  }
  return /* HTML*/ `
    &lt;div id='cards-grid-container'>
      &lt;div id='cards-grid'>${cards}&lt;/div>
    &lt;/div>
  `;
}

/**
 * Genererer HTML-innholdet for et kaféproduktkort.
 *
 * Funksjonen tar inn et produktobjekt og bygger et HTML-kort som viser produktdetaljer,
 * inkludert bilde, navn, pris, og en "Legg til i handlekurv"-knapp. Knappen tilpasses
 * basert på om produktet er på lager eller utsolgt.
 *
 * - Hvis produktet er utsolgt, deaktiveres "Legg til i handlekurv"-knappen, og kortet får
 *   en inaktiv stil.
 * - Ved klikk på produktbildet eller tittelen åpnes produktets detaljerte visning, hvis produktet er på lager.
 *
 * @function
 * @name createCafeProductCardHtml
 * @param {Object} product - Produktobjekt som inneholder detaljer som `productId`, `productName`, `unitPrice`, `image`, og `unitsInStock`.
 * @returns {string} HTML-innholdet for produktkortet, klar til å bli lagt til i DOM-en.
 * @example
 * // Genererer et HTML-produktkort for et kaféprodukt:
 * const productCardHtml = createCafeProductCardHtml(product);
 * document.getElementById('cafe-menu').innerHTML += productCardHtml;
 */
function createCafeProductCardHtml(product) {
  const isOutOfStock = product.unitsInStock === 0;

  return /* HTML*/ `
    &lt;article class="product-card ${isOutOfStock ? 'product-card--inactive' : ''}">
      &lt;header class="product-card__header" ${!isOutOfStock ? `onclick="openProductInfo(${product.productId})"` : ''}>
        &lt;img class="product-card__image" src="./img/cafe_menu/${product.image}" alt="${product.productName}" width="300" height="300">
        &lt;h2 class="product-card__title">${product.productName}&lt;/h2>
      &lt;/header>
      &lt;footer class="product-card__footer">
        &lt;div class="product-card__price">${product.unitPrice} Kr&lt;/div>
        &lt;button class="product-card__button-add button__add-to-cart"
                onclick="addCafeProductToCart(${product.productId})"
                ${isOutOfStock ? 'disabled' : ''}>
          &lt;svg class="cart-icon" fill="currentColor" height="20px" width="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 487.1 487.1" xml:space="preserve">
            &lt;path d="M342.3,137.978H385l-63.3-108.6c-5.1-8.8-16.4-11.8-25.2-6.6c-8.8,5.1-11.8,16.4-6.6,25.2L342.3,137.978z" />
            &lt;path d="M197.4,47.978c5.1-8.8,2.2-20.1-6.6-25.2s-20.1-2.2-25.2,6.6l-63.3,108.7H145L197.4,47.978z" />
            &lt;path d="M455.7,171.278H31.3c-17.3,0-31.3,14-31.3,31.3v34.7c0,17.3,14,31.3,31.3,31.3h9.8l30.2,163.7
              c3.8,19.3,21.4,34.6,39.7,34.6h12h78.8c8,0,18.4,0,29,0l0,0h9.6h9.6l0,0c10.6,0,21,0,29,0h78.8h12c18.3,0,35.9-15.3,39.7-34.6
              l30.4-163.8h15.9c17.3,0,31.3-14,31.3-31.3v-34.7C487,185.278,473,171.278,455.7,171.278z M172.8,334.878v70.6
              c0,10.1-8.2,17.7-17.7,17.7c-10.1,0-17.7-8.2-17.7-17.7v-29.6v-69.4c0-10.1,8.2-17.7,17.7-17.7c10.1,0,17.7,8.2,17.7,17.7V334.878
              z M229.6,334.878v70.6c0,10.1-8.2,17.7-17.7,17.7c-10.1,0-17.7-8.2-17.7-17.7v-29.6v-69.4c0-10.1,8.2-17.7,17.7-17.7
              s17.7,8.2,17.7,17.7V334.878z M286.7,375.878v29.6c0,9.5-7.6,17.7-17.7,17.7c-9.5,0-17.7-7.6-17.7-17.7v-70.6v-28.4
              c0-9.5,8.2-17.7,17.7-17.7s17.7,7.6,17.7,17.7V375.878z M343.5,375.878v29.6c0,9.5-7.6,17.7-17.7,17.7c-9.5,0-17.7-7.6-17.7-17.7
              v-70.6v-28.4c0-9.5,7.6-17.7,17.7-17.7c9.5,0,17.7,7.6,17.7,17.7V375.878z" />
          &lt;/svg>
          ${isOutOfStock ? 'Utsolgt' : 'Legg til'}
        &lt;/button>
      &lt;/footer>
    &lt;/article>
  `;
}

/**
 * Oppretter et overleggselement for å vise detaljert informasjon om et valgt kaféprodukt.
 *
 * Funksjonen henter produktdata basert på `model.app.selectedProduct` og oppretter et
 * HTML-seksjonselement som inneholder produktinformasjon. Overlayet viser produktnavn, bilde,
 * pris, beskrivelse, tilpasningsfelt, og knappene for å angi mengde og legge til i handlekurven.
 *
 * - Produktdata hentes fra modellen basert på valgt produkt.
 * - Overlayet har en lukkeknapp og lukkes også ved klikk utenfor innholdsområdet.
 * - Brukeren kan angi tilpasninger og antall for produktet.
 *
 * @function
 * @name createCafeProductInfoOverlayElement
 * @returns {HTMLElement|null} Overleggselementet med produktinformasjon, eller `null` hvis produktet ikke finnes.
 * @example
 * // Opprett og vis produktoverlegget i DOM-en:
 * const overlay = createCafeProductInfoOverlayElement();
 * if (overlay) document.body.appendChild(overlay);
 */
function createCafeProductInfoOverlayElement() {
  const product = getProductFromId(model.app.selectedProduct);
  if (product != null) {
    const overlay = document.createElement('section');
    overlay.classList.add('overlay');

    overlay.innerHTML = /* HTML*/ `
      &lt;section class="overlay__content">
        &lt;header class="overlay-header">
          &lt;h2 class="overlay__title">${product.productName}&lt;/h2>
          &lt;button class="overlay-close-button" aria-label="Lukk" onclick="closeOverlay()">
            &lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              &lt;line x1="18" y1="6" x2="6" y2="18">&lt;/line>
              &lt;line x1="6" y1="6" x2="18" y2="18">&lt;/line>
            &lt;/svg>
          &lt;/button>
        &lt;/header>

        &lt;div class="overlay__body">
          &lt;img src='./img/cafe_menu/${product.image}' alt="${product.productName}" class="overlay__image" width="521" height="400">
          &lt;p class="overlay__price">${product.unitPrice ? `${product.unitPrice} Kr` : 'Pris ikke tilgjengelig'}&lt;/p>
          &lt;p class="overlay__description">${product.description}&lt;/p>

          &lt;div class="overlay__section overlay__section--comment">
            &lt;label for="product-comment" class="overlay__label">Tilpasninger:&lt;/label>
            &lt;textarea id="product-comment" class="overlay__textarea" placeholder="Skriv inn eventuelle tilpasninger her..." oninput='updateCafeProductComment(this.value)'>&lt;/textarea>
          &lt;/div>
        &lt;/div>

        &lt;footer class="overlay-footer">
          &lt;div class="overlay__quantity">
            &lt;label for="quantity-input" class="overlay__label">Antall:&lt;/label>
            &lt;input type="number" value="1" min="1" id="quantity-input" class="overlay__quantity-input" oninput="model.inputs.cafeMenu.quantity=this.valueAsNumber"/>
          &lt;/div>
          &lt;button id="overlay-buy" class="overlay-button"
            onclick="addCafeProductToCart(${product.productId})">
            Legg til i handlekurv
          &lt;/button>
        &lt;/footer>
      &lt;/section
    `;

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        closeOverlay();
      }
    });

    return overlay;
  }
  return null;
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Tue Oct 29 2024 19:05:26 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
