let productAddController={init(){productAddView.renderForm(),document.getElementById("addProductForm").onsubmit=e=>{e.preventDefault(),this.addProduct()}},addProduct(){var e=document.getElementById("addProductForm"),e={productId:this.getNextProductId(),productName:e.productName.value,categoryIndex:parseInt(e.category.value),unitPrice:parseFloat(e.unitPrice.value),unitsInStock:parseInt(e.unitsInStock.value),description:e.description.value,image:e.imageUrl.value,preorderRequired:e.preorderRequired.checked};model.products.push(e),saveModel(),window.location.href="index.html"},getNextProductId(){var e=model.products.map(e=>e.productId);return Math.max(...e)+1}};document.addEventListener("DOMContentLoaded",()=>{productAddController.init()});