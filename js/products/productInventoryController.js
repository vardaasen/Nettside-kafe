let productInventoryController={initialize:function(){this.loadData(),this.attachEventListeners(),productInventoryView.renderInventory()},loadData:function(){var e=localStorage.getItem("productInventory");e&&(model.products=JSON.parse(e))},attachEventListeners(){var e=document.getElementById("searchInput"),t=document.getElementById("categoryFilter");e.addEventListener("input",this.searchByProductName.bind(this)),t.addEventListener("change",this.filterByCategory.bind(this))},updateProductQuantity(e,t){model.addCustomQuantity(e,t),productInventoryView.renderInventory()},addProduct(){window.location.href="opprett.html"},editProduct(e){window.location.href="rediger.html?"+e},confirmDelete(t){var e=model.products.findIndex(e=>e.productId===t);-1!==e?(model.products.splice(e,1),saveModel(),this.initialize()):console.error(`Produkt med ID ${t} ikke funnet.`)},filterByCategory(){let t=document.getElementById("categoryFilter").value;var e="Alle"===t?model.products:model.products.filter(e=>e.categoryIndex==t);productInventoryView.renderInventory(e)},searchByProductName(){let t=document.getElementById("searchInput").value.toLowerCase(),r=document.getElementById("categoryFilter").value;var e=model.products.filter(e=>("Alle"===r||e.categoryIndex==r)&&e.productName.toLowerCase().includes(t));productInventoryView.renderInventory(e)},resetSearch(){document.getElementById("searchInput").value="",document.getElementById("categoryFilter").value="Alle",this.initialize()}};document.addEventListener("DOMContentLoaded",()=>{productInventoryController.initialize()});